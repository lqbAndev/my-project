@model IEnumerable<WebBanSach.Models.AspNetUsers>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
}

<div class="card">
    <div class="card-header">
        <h3 class="card-title text-uppercase text-danger"><strong>Danh sách khách hàng</strong> </h3>
    </div>
    <div class="card-body">
        <table id="example1" class="table table-bordered table-striped">
            <thead class="text-center">
                <tr>
                  
                    <th>
                        Email
                    </th>
                    <th>
                        Số điện thoại
                    </th>
                   
                    <th>
                        Tổng mua
                    </th>
                </tr>
            </thead>
            <tbody class="text-center">
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.Email)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.PhoneNumber)
                        </td>
                        
                        <td>
                            @String.Format(System.Globalization.CultureInfo.CurrentCulture, "{0:C0}", item.Order.Sum(p => p.OrderDetail.Sum(a => a.Quality * a.Price)) != 0 ? item.Order.Sum(p => p.OrderDetail.Sum(a => a.Quality * a.Price)) : 0)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

